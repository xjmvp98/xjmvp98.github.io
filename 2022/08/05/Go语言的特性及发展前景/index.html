

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/sun2.jpg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="Go语言的特性及发展前景Go语言也称为 Golang，是由 Google 公司开发的一种静态强类型、编译型、并发型、并具有垃圾回收功能的编程语言。 Go语言的特性语法简单抛开语法样式不谈，单就类型和规则而言，Go 与 C99、C11 相似之处颇多，这也是Go语言被冠以“NextC”名号的重要原因。 C语言的语法处于简单和复杂的两极。C语言简单到你每写下一行代码，都能在脑中想象出编译后的模样，指令如">
<meta property="og:type" content="article">
<meta property="og:title" content="Go语言的特性及发展前景">
<meta property="og:url" content="http://example.com/2022/08/05/Go%E8%AF%AD%E8%A8%80%E7%9A%84%E7%89%B9%E6%80%A7%E5%8F%8A%E5%8F%91%E5%B1%95%E5%89%8D%E6%99%AF/index.html">
<meta property="og:site_name" content="人间小太阳">
<meta property="og:description" content="Go语言的特性及发展前景Go语言也称为 Golang，是由 Google 公司开发的一种静态强类型、编译型、并发型、并具有垃圾回收功能的编程语言。 Go语言的特性语法简单抛开语法样式不谈，单就类型和规则而言，Go 与 C99、C11 相似之处颇多，这也是Go语言被冠以“NextC”名号的重要原因。 C语言的语法处于简单和复杂的两极。C语言简单到你每写下一行代码，都能在脑中想象出编译后的模样，指令如">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://typora-note--image.oss-cn-hangzhou.aliyuncs.com/img/1-1PPQ001322K.jpg">
<meta property="article:published_time" content="2022-08-05T07:21:09.000Z">
<meta property="article:modified_time" content="2022-08-05T08:26:36.903Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://typora-note--image.oss-cn-hangzhou.aliyuncs.com/img/1-1PPQ001322K.jpg">
  
  
  
  <title>Go语言的特性及发展前景 - 人间小太阳</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.0","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>

  
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>人间小太阳&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Go语言的特性及发展前景"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-08-05 15:21" pubdate>
          2022年8月5日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          5.7k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          48 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Go语言的特性及发展前景</h1>
            
            <div class="markdown-body">
              
              <h1 id="Go语言的特性及发展前景"><a href="#Go语言的特性及发展前景" class="headerlink" title="Go语言的特性及发展前景"></a>Go语言的特性及发展前景</h1><p>Go语言也称为 Golang，是由 Google 公司开发的一种<strong>静态强类型、编译型、并发型</strong>、并具有<strong>垃圾回收功能</strong>的编程语言。</p>
<h2 id="Go语言的特性"><a href="#Go语言的特性" class="headerlink" title="Go语言的特性"></a>Go语言的特性</h2><h3 id="语法简单"><a href="#语法简单" class="headerlink" title="语法简单"></a>语法简单</h3><p>抛开语法样式不谈，单就类型和规则而言，<strong>Go 与 C99、C11 相似之处颇多</strong>，这也是Go语言被冠以“NextC”名号的重要原因。</p>
<p>C语言的语法处于简单和复杂的两极。C语言简单到你每写下一行代码，都能在脑中想象出编译后的模样，指令如何执行，内存如何分配，等等。而 C 的复杂在于，它有太多隐晦而不着边际的规则，着实让人头疼。相比较而言，Go 从零开始，没有历史包袱，在汲取众多经验教训后，可从头规划一个规则严谨、条理简单的世界。</p>
<p>Go语言的语法规则严谨，没有歧义，更没什么黑魔法变异用法。任何人写出的代码都基本一致，这使得Go语言简单易学。<strong>放弃部分“灵活”和“自由”，换来更好的维护性</strong>，我觉得是值得的。</p>
<p><strong>将“++”、“–”从运算符降级为语句，保留指针，但默认阻止指针运算</strong>，带来的好处是显而易见的。还有，<strong>将切片和字典作为内置类型，从运行时的层面进行优化</strong>，这也算是一种“简单”。</p>
<h3 id="并发模型"><a href="#并发模型" class="headerlink" title="并发模型"></a>并发模型</h3><p>时至今日，并发编程已成为程序员的基本技能，在各个技术社区都能看到诸多与之相关的讨论主题。在这种情况下Go语言却一反常态做了件极大胆的事，<strong>从根本上将一切都并发化</strong>，<strong>运行时用 <code>Goroutine</code> 运行所有的一切，包括 <code>main.main</code> 入口函数</strong>。</p>
<p>可以说，<code>Goroutine</code>（Go协程） 是 Go 最显著的特征。它<strong>用类协程的方式来处理并发单元，却又在运行时层面做了更深度的优化处理</strong>。这使得语法上的<strong>并发编程变得极为容易，无须处理回调，无须关注线程切换，仅一个关键字，简单而自然</strong>。</p>
<p>搭配 <code>channel</code>，实现 <code>CSP</code> 模型。<strong>将并发单元间的数据耦合拆解开来，各司其职</strong>，这对所有纠结于内存共享、锁粒度的开发人员都是一个可期盼的解脱。<strong>若说有所不足，那就是应该有个更大的计划，将通信从进程内拓展到进程外，实现真正意义上的分布式</strong>。</p>
<h3 id="内存分配"><a href="#内存分配" class="headerlink" title="内存分配"></a>内存分配</h3><p>将一切并发化固然是好，但带来的问题同样很多。<strong>如何实现高并发下的内存分配和管理就是个难题</strong>。好在 Go 选择了 <code>tcmalloc</code>，它<strong>本就是为并发而设计的高性能内存分配组件</strong>。</p>
<p>可以说，<strong>内存分配器</strong>是运行时三大组件里变化最少的部分。刨去因配合垃圾回收器而修改的内容，内存分配器完整保留了 <code>tcmalloc</code> 的原始架构。使用 <code>cache</code> 为当前执行线程提供无锁分配，多个 <code>central</code> 在不同线程间平衡内存单元复用。在更高层次里，heap 则管理着大块内存，用以切分成不同等级的复用内存块。快速分配和二级内存平衡机制，让内存分配器能优秀地完成高压力下的内存管理任务。</p>
<p>在最近几个版本中，编译器优化卓有成效。它会竭力将对象分配在栈上，以降低垃圾回收压力，减少管理消耗，提升执行性能。可以说，<strong>除偶尔因性能问题而被迫采用对象池和自主内存管理外，我们基本无须参与内存管理操作</strong>。</p>
<h3 id="垃圾回收"><a href="#垃圾回收" class="headerlink" title="垃圾回收"></a>垃圾回收</h3><p>垃圾回收一直是个难题。早年间，<a target="_blank" rel="noopener" href="http://c.biancheng.net/java/">Java</a> 就因垃圾回收低效被嘲笑了许久，后来 Sun 连续收纳了好多人和技术才发展到今天。可即便如此，在 Hadoop 等大内存应用场景下，垃圾回收依旧捉襟见肘、步履维艰。</p>
<p>相比 Java，Go 面临的困难要更多。因指针的存在，所以回收内存不能做收缩处理。幸好，指针运算被阻止，否则要做到精确回收都难。</p>
<p>每次升级，垃圾回收器必然是核心组件里修改最多的部分。从并发清理，到降低 <code>STW</code> 时间，直到 Go 的 1.5 版本实现并发标记，逐步引入三色标记和写屏障等等，都是为了能让垃圾回收在不影响用户逻辑的情况下更好地工作。尽管有了努力，当前版本的垃圾回收算法也只能说堪用，离好用尚有不少距离。</p>
<h3 id="静态链接"><a href="#静态链接" class="headerlink" title="静态链接"></a>静态链接</h3><p>Go 刚发布时，静态链接被当作优点宣传。只须编译后的一个可执行文件，无须附加任何东西就能部署。这似乎很不错，只是后来风气变了。连着几个版本，编译器都在完善动态库 <code>buildmode</code> 功能，场面一时变得有些尴尬。</p>
<p>暂不说未完工的 <code>buildmode</code> 模式，静态编译的好处显而易见。将运行时、依赖库直接打包到可执行文件内部，简化了部署和发布操作，无须事先安装运行环境和下载诸多第三方库。这种简单方式对于编写系统软件有着极大好处，因为库依赖一直都是个麻烦。</p>
<h3 id="标准库"><a href="#标准库" class="headerlink" title="标准库"></a>标准库</h3><p>功能完善、质量可靠的标准库为编程语言提供了充足动力。在不借助第三方扩展的情况下，就可完成大部分基础功能开发，这大大降低了学习和使用成本。最关键的是，标准库有升级和修复保障，还能从运行时获得深层次优化的便利，这是第三方库所不具备的。</p>
<p>Go 标准库虽称不得完全覆盖，但也算极为丰富。其中值得称道的是 <code>net/http</code>，仅须简单几条语句就能实现一个高性能 <code>Web Server</code>，这从来都是宣传的亮点。更何况大批基于此的优秀第三方 Framework 更是将 Go 推到 <code>Web/Microservice</code> 开发标准之一的位置。</p>
<p>当然，优秀第三方资源也是语言生态圈的重要组成部分。近年来崛起的几门语言中，Go 算是独树一帜，大批优秀作品频繁涌现，这也给我们学习 Go 提供了很好的参照。</p>
<h3 id="工具链"><a href="#工具链" class="headerlink" title="工具链"></a>工具链</h3><p>完整的工具链对于日常开发极为重要。Go 在此做得相当不错，无论是编译、格式化、错误检查、帮助文档，还是第三方包下载、更新都有对应的工具。其功能未必完善，但起码算得上简单易用。</p>
<p><strong>内置完整测试框架</strong>，其中包括<strong>单元测试、性能测试、代码覆盖率、数据竞争</strong>，以及用来调优的 <code>prof</code>，这些都是保障代码能正确而稳定运行的必备利器。</p>
<p>除此之外，还可通过环境变量输出运行时监控信息，尤其是垃圾回收和并发调度跟踪，可进一步帮助我们改进算法，获得更佳的运行期表现。</p>
<h2 id="Go语言是为并发而生"><a href="#Go语言是为并发而生" class="headerlink" title="Go语言是为并发而生"></a>Go语言是为并发而生</h2><p>在早期 CPU 都是以单核的形式顺序执行机器指令。Go语言的祖先C语言正是这种顺序编程语言的代表。顺序编程语言中的顺序是指：<strong>所有的指令都是以串行的方式执行，在相同的时刻有且仅有一个 CPU 在顺序执行程序的指令。</strong></p>
<p>随着处理器技术的发展，单核时代以提升处理器频率来提高运行效率的方式遇到了瓶颈，单核 CPU 发展的停滞，给多核 CPU 的发展带来了机遇。相应地，编程语言也开始逐步向并行化的方向发展。</p>
<p>虽然一些编程语言的框架在不断地提高多核资源使用效率，例如 <a target="_blank" rel="noopener" href="http://c.biancheng.net/java/">Java</a> 的 <code>Netty</code> 等，但仍然需要开发人员花费大量的时间和精力搞懂这些框架的运行原理后才能熟练掌握。</p>
<p>作为程序员，要开发出能充分利用硬件资源的应用程序是一件很难的事情。现代计算机都拥有多个核，但是大部分编程语言都没有有效的工具让程序可以轻易利用这些资源。<strong>编程时需要写大量的线程同步代码来利用多个核，很容易导致错误</strong>。</p>
<p>Go语言正是在多核和网络化的时代背景下诞生的原生支持并发的编程语言。Go语言从底层原生支持并发，无须第三方库，开发人员可以很轻松地在编写程序时决定怎么使用 CPU 资源。</p>
<p>Go语言的并发是基于 <code>goroutine</code> 的，<code>goroutine</code> 类似于线程，但并非线程。可以将 <code>goroutine</code> 理解为一种虚拟线程。Go语言运行时会参与调度 <code>goroutine</code>，并将 <code>goroutine</code> 合理地分配到每个 CPU 中，最大限度地使用 CPU 性能。</p>
<p>多个 <code>goroutine</code> 中，Go语言使用通道（<code>channel</code>）进行通信，通道是一种内置的<a target="_blank" rel="noopener" href="http://c.biancheng.net/data_structure/">数据结构</a>，可以让用户在不同的 <code>goroutine</code> 之间同步发送具有类型的消息。这让编程模型更倾向于在 <code>goroutine</code> 之间发送消息，而不是让多个 <code>goroutine</code> 争夺同一个数据的使用权。</p>
<p>程序可以将需要并发的环节设计为<strong>生产者模式和消费者的模式</strong>，将数据放入通道。通道另外一端的代码将这些数据进行并发计算并返回结果，如下图所示。</p>
<img src="https://typora-note--image.oss-cn-hangzhou.aliyuncs.com/img/1-1PPQ001322K.jpg" srcset="/img/loading.gif" lazyload alt="img" style="zoom: 80%;">

<blockquote>
<p>提示：Go语言通过通道可以实现多个 <code>goroutine</code> 之间内存共享。</p>
</blockquote>
<p>【实例】生产者每秒生成一个字符串，并通过通道传给消费者，生产者使用两个 goroutine 并发运行，消费者在 main() 函数的 goroutine 中进行处理。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>        <span class="hljs-string">&quot;fmt&quot;</span><br>        <span class="hljs-string">&quot;math/rand&quot;</span><br>        <span class="hljs-string">&quot;time&quot;</span><br>)<br><br><span class="hljs-comment">// 数据生产者</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">producer</span><span class="hljs-params">(header <span class="hljs-type">string</span>, channel <span class="hljs-keyword">chan</span>&lt;- <span class="hljs-type">string</span>)</span></span> &#123;<br>     <span class="hljs-comment">// 无限循环, 不停地生产数据</span><br>     <span class="hljs-keyword">for</span> &#123;<br>            <span class="hljs-comment">// 将随机数和字符串格式化为字符串发送给通道</span><br>            channel &lt;- fmt.Sprintf(<span class="hljs-string">&quot;%s: %v&quot;</span>, header, rand.Int31())<br>            <span class="hljs-comment">// 等待1秒</span><br>            time.Sleep(time.Second)<br>        &#125;<br>&#125;<br><br><span class="hljs-comment">// 数据消费者</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">customer</span><span class="hljs-params">(channel &lt;-<span class="hljs-keyword">chan</span> <span class="hljs-type">string</span>)</span></span> &#123;<br>     <span class="hljs-comment">// 不停地获取数据</span><br>     <span class="hljs-keyword">for</span> &#123;<br>            <span class="hljs-comment">// 从通道中取出数据, 此处会阻塞直到信道中返回数据</span><br>            message := &lt;-channel<br>            <span class="hljs-comment">// 打印数据</span><br>            fmt.Println(message)<br>        &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>    <span class="hljs-comment">// 创建一个字符串类型的通道</span><br>    channel := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">string</span>)<br>    <span class="hljs-comment">// 创建producer()函数的并发goroutine</span><br>    <span class="hljs-keyword">go</span> producer(<span class="hljs-string">&quot;cat&quot;</span>, channel)<br>    <span class="hljs-keyword">go</span> producer(<span class="hljs-string">&quot;dog&quot;</span>, channel)<br>    <span class="hljs-comment">// 数据消费函数</span><br>    customer(channel)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs go">dog: <span class="hljs-number">2019727887</span><br>cat: <span class="hljs-number">1298498081</span><br>dog: <span class="hljs-number">939984059</span><br>cat: <span class="hljs-number">1427131847</span><br>cat: <span class="hljs-number">911902081</span><br>dog: <span class="hljs-number">1474941318</span><br>dog: <span class="hljs-number">140954425</span><br>cat: <span class="hljs-number">336122540</span><br>cat: <span class="hljs-number">208240456</span><br>dog: <span class="hljs-number">646203300</span><br></code></pre></td></tr></table></figure>

<p>对代码的分析：</p>
<ul>
<li><p>第 03 行，导入格式化（<code>fmt</code>）、随机数（<code>math/rand</code>）、时间（<code>time</code>）包参与编译。</p>
</li>
<li><p>第 10 行，生产数据的函数，传入一个标记类型的字符串及一个只能写入的通道。</p>
</li>
<li><p>第 12 行，for{} 构成一个无限循环。</p>
</li>
<li><p>第 14 行，使用 <code>rand.Int31()</code> 生成一个随机数，使用 <code>fmt.Sprintf()</code> 函数将 <code>header</code> 和随机数格式化为字符串。</p>
</li>
<li><p>第 16 行，使用 <code>time.Sleep()</code> 函数暂停 1 秒再执行这个函数。如果在 <code>goroutine</code> 中执行时，暂停不会影响其他 <code>goroutine</code> 的执行。</p>
</li>
<li><p>第 21 行，消费数据的函数，传入一个只能写入的通道。</p>
</li>
<li><p>第 23 行，构造一个不断消费消息的循环。</p>
</li>
<li><p>第 25 行，从通道中取出数据。</p>
</li>
<li><p>第 27 行，将取出的数据进行打印。</p>
</li>
<li><p>第 31 行，程序的入口函数，总是在程序开始时执行。</p>
</li>
<li><p>第 33 行，实例化一个字符串类型的通道。</p>
</li>
<li><p>第 35 行和第 36 行，并发执行一个生产者函数，两行分别创建了这个函数搭配不同参数的两个 <code>goroutine</code>。</p>
</li>
<li><p>第 48 行，执行消费者函数通过通道进行数据消费。</p>
</li>
</ul>
<p>整段代码中，没有线程创建，没有线程池也没有加锁，仅仅通过关键字 go 实现 <code>goroutine</code>，和通道实现数据交换。</p>
<h2 id="目前有哪些项目是用Go语言开发的"><a href="#目前有哪些项目是用Go语言开发的" class="headerlink" title="目前有哪些项目是用Go语言开发的"></a>目前有哪些项目是用Go语言开发的</h2><p>所有的编程语言都反映了语言设计者对编程哲学的反思，通常包括之前的语言所暴露的一些不足地方的改进。Go语言从发布 1.0 版本以来备受众多开发者关注并得到广泛使用，Go语言的<strong>简单、高效、并发</strong>特性吸引了众多传统语言开发者的加入，而且人数越来越多。</p>
<p>使用Go语言开发的开源项目非常多。早期的Go语言开源项目只是通过Go语言与传统项目进行C语言库绑定实现，例如 <a target="_blank" rel="noopener" href="http://c.biancheng.net/qt/">Qt</a>、<code>Sqlite</code> 等；后期的很多项目都使用Go语言进行重新原生实现，这个过程相对于其他语言要简单一些，这也促成了大量使用Go语言原生开发项目的出现。</p>
<p>下面列举的是原生使用Go语言进行开发的部分项目。</p>
<h3 id="1-Docker"><a href="#1-Docker" class="headerlink" title="1) Docker"></a>1) Docker</h3><p><strong>Docker 是一种操作系统层面的虚拟化技术</strong>，<strong>可以在操作系统和应用程序之间进行隔离，也可以称之为容器</strong>。<strong>Docker 可以在一台物理服务器上快速运行一个或多个实例</strong>。例如，启动一个 <code>CentOS</code> 操作系统，并在其内部命令行执行指令后结束，整个过程就像自己在操作系统一样高效。</p>
<p>项目链接：<a target="_blank" rel="noopener" href="https://github.com/docker/docker">https://github.com/docker/docker</a></p>
<h3 id="2-Go语言"><a href="#2-Go语言" class="headerlink" title="2) Go语言"></a>2) Go语言</h3><p>Go语言自己的早期源码使用C语言和<a target="_blank" rel="noopener" href="http://c.biancheng.net/asm/">汇编语言</a>写成。从 Go 1.5 版本后，完全使用Go语言自身进行编写。Go语言的源码对了解Go语言的底层调度有极大的参考意义，建议希望对Go语言有深入了解的读者读一读。</p>
<p>项目链接：<a target="_blank" rel="noopener" href="https://github.com/golang/go">https://github.com/golang/go</a></p>
<h3 id="3-Kubernetes"><a href="#3-Kubernetes" class="headerlink" title="3) Kubernetes"></a>3) Kubernetes</h3><p>Google 公司开发的<strong>构建于 Docker 之上的容器调度服务</strong>，<strong>用户可以通过 <code>Kubernetes</code> 集群进行云端容器集群管理</strong>。<strong>系统会自动选取合适的工作节点来执行具体的容器集群调度处理工作</strong>。其核心概念是 <strong>Container Pod（容器仓）</strong>。</p>
<p>项目链接：<a target="_blank" rel="noopener" href="https://github.com/kubernetes/kubernetes">https://github.com/kubernetes/kubernetes</a></p>
<h3 id="4-etcd"><a href="#4-etcd" class="headerlink" title="4) etcd"></a>4) etcd</h3><p>一款分布式、可靠的 KV 存储系统，可以快速进行云配置。由 CoreOS 开发并维护键值存储系统，它使用Go语言编写，并通过 Raft 一致性算法处理日志复制以保证强一致性。</p>
<p>项目链接：<a target="_blank" rel="noopener" href="https://github.com/coreos/etcd">https://github.com/coreos/etcd</a></p>
<h3 id="5-beego"><a href="#5-beego" class="headerlink" title="5) beego"></a>5) beego</h3><p>beego 是一个类似 <a target="_blank" rel="noopener" href="http://c.biancheng.net/python/">Python</a> 的 Tornado 框架，采用了 RESTFul 的设计思路，使用Go语言编写的一个极轻量级、高可伸缩性和高性能的 Web 应用框架。</p>
<p>项目链接：<a target="_blank" rel="noopener" href="https://github.com/astaxie/beego">https://github.com/astaxie/beego</a></p>
<h3 id="6-martini"><a href="#6-martini" class="headerlink" title="6) martini"></a>6) martini</h3><p>一款快速构建模块化的 Web 应用的Go语言框架。</p>
<p>项目链接：<a target="_blank" rel="noopener" href="https://github.com/go-martini/martini">https://github.com/go-martini/martini</a></p>
<h3 id="7-codis"><a href="#7-codis" class="headerlink" title="7) codis"></a>7) codis</h3><p>国产的优秀分布式 <a target="_blank" rel="noopener" href="http://c.biancheng.net/redis/">Redis</a> 解决方案。可以将 <code>codis</code> 理解成为 Web 服务领域的 <code>Nginx</code>，它实现了对 <code>Redis</code> 的反向代理和负载均衡。</p>
<p>项目链接：<a target="_blank" rel="noopener" href="https://github.com/CodisLabs/codis">https://github.com/CodisLabs/codis</a></p>
<h3 id="8-delve"><a href="#8-delve" class="headerlink" title="8) delve"></a>8) delve</h3><p>Go语言强大的调试器，被很多集成环境和编辑器整合。</p>
<p>项目链接：<a target="_blank" rel="noopener" href="https://github.com/derekparker/delve">https://github.com/derekparker/delve</a></p>

              
            </div>
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Go%E8%AF%AD%E8%A8%80/" class="category-chain-item">Go语言</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
</div>


              

              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/08/10/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%B3%95%E8%A7%A3%E8%AF%BB%EF%BC%88%E6%84%8F%E4%B9%89%E3%80%81%E9%87%8D%E7%82%B9%E3%80%81%E7%84%A6%E7%82%B9%EF%BC%89/" title="">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile"></span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/08/04/Go%E8%AF%AD%E8%A8%80%E7%AE%80%E4%BB%8B/" title="Go语言简介">
                        <span class="hidden-mobile">Go语言简介</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>






  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.0/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script>
  (function() {
    var enableLang = CONFIG.code_language.enable && CONFIG.code_language.default;
    var enableCopy = CONFIG.copy_btn;
    if (!enableLang && !enableCopy) {
      return;
    }

    function getBgClass(ele) {
      return Fluid.utils.getBackgroundLightness(ele) >= 0 ? 'code-widget-light' : 'code-widget-dark';
    }

    var copyTmpl = '';
    copyTmpl += '<div class="code-widget">';
    copyTmpl += 'LANG';
    copyTmpl += '</div>';
    jQuery('.markdown-body pre').each(function() {
      var $pre = jQuery(this);
      if ($pre.find('code.mermaid').length > 0) {
        return;
      }
      if ($pre.find('span.line').length > 0) {
        return;
      }

      var lang = '';

      if (enableLang) {
        lang = CONFIG.code_language.default;
        if ($pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2 && $pre.children().hasClass('hljs')) {
          lang = $pre[0].children[0].classList[1];
        } else if ($pre[0].getAttribute('data-language')) {
          lang = $pre[0].getAttribute('data-language');
        } else if ($pre.parent().hasClass('sourceCode') && $pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2) {
          lang = $pre[0].children[0].classList[1];
          $pre.parent().addClass('code-wrapper');
        } else if ($pre.parent().hasClass('markdown-body') && $pre[0].classList.length === 0) {
          $pre.wrap('<div class="code-wrapper"></div>');
        }
        lang = lang.toUpperCase().replace('NONE', CONFIG.code_language.default);
      }
      $pre.append(copyTmpl.replace('LANG', lang).replace('code-widget">',
        getBgClass($pre[0]) + (enableCopy ? ' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>' : ' code-widget">')));

      if (enableCopy) {
        Fluid.utils.createScript('https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js', function() {
          var clipboard = new window.ClipboardJS('.copy-btn', {
            target: function(trigger) {
              var nodes = trigger.parentNode.childNodes;
              for (var i = 0; i < nodes.length; i++) {
                if (nodes[i].tagName === 'CODE') {
                  return nodes[i];
                }
              }
            }
          });
          clipboard.on('success', function(e) {
            e.clearSelection();
            e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-copy', 'icon-success');
            setTimeout(function() {
              e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-success', 'icon-copy');
            }, 2000);
          });
        });
      }
    });
  })();
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
